(()=>{"use strict";var e,n=-1,t=function(e){addEventListener("pageshow",(function(t){t.persisted&&(n=t.timeStamp,e(t))}),!0)},i=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},r=function(){var e=i();return e&&e.activationStart||0},a=function(e,t){var a=i(),o="navigate";return n>=0?o="back-forward-cache":a&&(document.prerendering||r()>0?o="prerender":document.wasDiscarded?o="restore":a.type&&(o=a.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:o}},o=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},t||{})),i}}catch(e){}},c=function(e,n,t,i){var r,a;return function(o){n.value>=0&&(o||i)&&((a=n.value-(r||0))||void 0===r)&&(r=n.value,n.delta=a,n.rating=function(e,n){return e>n[1]?"poor":e>n[0]?"needs-improvement":"good"}(n.value,t),e(n))}},u=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},d=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},s=function(e){var n=!1;return function(){n||(e(),n=!0)}},f=-1,l=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},v=function(e){"hidden"===document.visibilityState&&f>-1&&(f="visibilitychange"===e.type?e.timeStamp:0,p())},m=function(){addEventListener("visibilitychange",v,!0),addEventListener("prerenderingchange",v,!0)},p=function(){removeEventListener("visibilitychange",v,!0),removeEventListener("prerenderingchange",v,!0)},h=function(){return f<0&&(f=l(),m(),t((function(){setTimeout((function(){f=l(),m()}),0)}))),{get firstHiddenTime(){return f}}},g=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},y=[1800,3e3],T=function(e,n){n=n||{},g((function(){var i,d=h(),s=a("FCP"),f=o("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(f.disconnect(),e.startTime<d.firstHiddenTime&&(s.value=Math.max(e.startTime-r(),0),s.entries.push(e),i(!0)))}))}));f&&(i=c(e,s,y,n.reportAllChanges),t((function(t){s=a("FCP"),i=c(e,s,y,n.reportAllChanges),u((function(){s.value=performance.now()-t.timeStamp,i(!0)}))})))}))},b=[.1,.25],w=0,E=1/0,C=0,S=function(e){e.forEach((function(e){e.interactionId&&(E=Math.min(E,e.interactionId),C=Math.max(C,e.interactionId),w=C?(C-E)/7+1:0)}))},L=function(){return e?w:performance.interactionCount||0},A=function(){"interactionCount"in performance||e||(e=o("event",S,{type:"event",buffered:!0,durationThreshold:0}))},I=[],P=new Map,M=0,k=[],D=function(e){if(k.forEach((function(n){return n(e)})),e.interactionId||"first-input"===e.entryType){var n=I[I.length-1],t=P.get(e.interactionId);if(t||I.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};P.set(i.id,i),I.push(i)}I.sort((function(e,n){return n.latency-e.latency})),I.length>10&&I.splice(10).forEach((function(e){return P.delete(e.id)}))}}},F=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=s(e),"hidden"===document.visibilityState?e():(t=n(e),d(e)),t},_=[200,500],B=[2500,4e3],O={},R=[800,1800],x=function e(n){document.prerendering?g((function(){return e(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(n)}),!0):setTimeout(n,0)},N=function(e,n){n=n||{};var o=a("TTFB"),u=c(e,o,R,n.reportAllChanges);x((function(){var d=i();d&&(o.value=Math.max(d.responseStart-r(),0),o.entries=[d],u(!0),t((function(){o=a("TTFB",0),(u=c(e,o,R,n.reportAllChanges))(!0)})))}))};new Date,window.initializeWebVitalsTracking=function(e,n,i){if(e){var f="https://app.creeperseoaudit.com/cvw-metrics?id=".concat(encodeURIComponent(e));!function(e,n){n=n||{},T(s((function(){var i,r=a("CLS",0),s=0,f=[],l=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=f[0],t=f[f.length-1];s&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(s+=e.value,f.push(e)):(s=e.value,f=[e])}})),s>r.value&&(r.value=s,r.entries=f,i())},v=o("layout-shift",l);v&&(i=c(e,r,b,n.reportAllChanges),d((function(){l(v.takeRecords()),i(!0)})),t((function(){s=0,r=a("CLS",0),i=c(e,r,b,n.reportAllChanges),u((function(){return i()}))})),setTimeout(i,0))})))}(l),T(l),function(e,n){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(n=n||{},g((function(){var i;A();var r,u=a("INP"),s=function(e){F((function(){e.forEach(D);var n=function(){var e=Math.min(I.length-1,Math.floor((L()-M)/50));return I[e]}();n&&n.latency!==u.value&&(u.value=n.latency,u.entries=n.entries,r())}))},f=o("event",s,{durationThreshold:null!==(i=n.durationThreshold)&&void 0!==i?i:40});r=c(e,u,_,n.reportAllChanges),f&&(f.observe({type:"first-input",buffered:!0}),d((function(){s(f.takeRecords()),r(!0)})),t((function(){M=L(),I.length=0,P.clear(),u=a("INP"),r=c(e,u,_,n.reportAllChanges)})))})))}(l),function(e,n){n=n||{},g((function(){var i,f=h(),l=a("LCP"),v=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<f.firstHiddenTime&&(l.value=Math.max(e.startTime-r(),0),l.entries=[e],i())}))},m=o("largest-contentful-paint",v);if(m){i=c(e,l,B,n.reportAllChanges);var p=s((function(){O[l.id]||(v(m.takeRecords()),m.disconnect(),O[l.id]=!0,i(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return F(p)}),!0)})),d(p),t((function(t){l=a("LCP"),i=c(e,l,B,n.reportAllChanges),u((function(){l.value=performance.now()-t.timeStamp,O[l.id]=!0,i(!0)}))}))}}))}(l),N(l)}else console.warn("Server ID is not provided. Web Vitals tracking will not be initialized.");function l(t){var r=JSON.stringify({name:t.name,value:t.value,rating:t.rating,delta:t.delta,id:t.id});"DEBUG"===e?console.log("Debug mode enabled. Metric data:",r):navigator.sendBeacon(f,r)||fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:r}).catch((function(e){return console.error("Fetch send failed:",e)})),!0===n&&gtag("event",t.name,{metric_value:t.value,metric_rating:t.rating,metric_delta:t.delta,metric_id:t.id}),!0===i&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"web_vitals",webVitalsData:{name:t.name,value:t.value,rating:t.rating,delta:t.delta,id:t.id,navigation_type:t.navigationType,attribution:t.attribution[0]?t.attribution[0].toJSON():null}}))}}})();